<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Search</title>
  <link rel="stylesheet" href="../Asset/Style.css">
</head>
<body>

<fieldset>
  <legend><b>Search</b></legend>
  <input type="text" id="searchInput" placeholder="Enter search term">
  <button onclick="performSearch()">Search</button>
</fieldset>

<fieldset>
  <legend><b>Results</b></legend>
  <ul id="resultsList"></ul>
</fieldset>

<script>
function renderResults(items) {
  const resultsList = document.getElementById('resultsList');
  resultsList.innerHTML = '';
  items.forEach(item => {
    const li = document.createElement('li');
    li.textContent = item.title;
    resultsList.appendChild(li);
  });
}

async function performSearch() {
  const query = document.getElementById('searchInput').value.trim();

  try {
    const response = await fetch('../Asset/Search.php', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ query })
    });
    if (!response.ok) throw new Error('Failed to fetch data');
    const data = await response.json();
    renderResults(data);
  } catch (error) {
    console.error('Error:', error);
  }
}
</script>

</body>
</html>